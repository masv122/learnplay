(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"28d7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center",attrs:{padding:""}},[e.perfil&&e.perfil.fotoPerfil?a("q-avatar",{attrs:{size:"150px"}},[a("img",{attrs:{src:e.perfil.fotoPerfil.foto}}),a("q-btn",{staticClass:"absolute",staticStyle:{top:"120px",botton:"0",right:"8px",transform:"translateY(-50%)"},attrs:{fab:"",color:"primary",icon:"camera",to:{name:"Fotos"}}})],1):a("q-avatar",{attrs:{size:"xl",color:"primary","text-color":"white",icon:"perm_identity"}}),a("q-list",{attrs:{padding:""}},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{size:"lg",color:"primary",name:"account_circle"}})],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("Nombre y Apellido")]),a("q-item-label",[e._v(e._s(e.nombreCompleto))])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"edit",color:"green"},on:{click:e.editarNombreApellido}})],1)],1),a("q-separator",{attrs:{spaced:"",inset:"item"}}),a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{size:"lg",color:"primary",name:"calendar_today"}})],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("Fecha de nacimiento")]),a("q-item-label",[e._v(e._s(e.perfil.fecha))])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"edit",color:"green"},on:{click:e.editarFecha}})],1)],1),a("q-separator",{attrs:{spaced:"",inset:"item"}}),a("q-item",[a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-icon",{attrs:{size:"lg",color:"primary",name:"face"}})],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("Genero")]),a("q-item-label",[e._v(e._s(e.perfil.genero))])],1)],1),a("q-separator",{attrs:{spaced:"",inset:"item"}}),a("q-item",[a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-icon",{attrs:{size:"lg",color:"primary",name:"upgrade"}})],1),a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("Nivel")]),a("q-item-label",[e._v(e._s(e.perfil.nivel))])],1)],1),a("q-item",{attrs:{clickable:""},on:{click:e.logout}},[a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-icon",{attrs:{size:"lg",color:"red",name:"logout"}})],1),a("q-item-section",[a("q-item-label",[e._v("Cerrar sesion")])],1)],1)],1)],1)},r=[],o=a("c973"),l=a.n(o),s=a("ded3"),n=a.n(s),c=a("2f62"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Nombre y Apellido")])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){e.preventDefault()}}},[a("q-input",{attrs:{filled:"",label:"Nombre","lazy-rules":"",rules:[function(e){return!!e||"Escriba un Nombre"}]},model:{value:e._nombre,callback:function(t){e._nombre=t},expression:"_nombre"}}),a("q-input",{attrs:{filled:"",label:"Apellido","lazy-rules":"",rules:[function(e){return!!e||"Escribar su apellido"}]},model:{value:e._apellido,callback:function(t){e._apellido=t},expression:"_apellido"}})],1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",dense:"",color:"primary",label:"Guardar"},on:{click:e.onOKClick}}),a("q-btn",{attrs:{flat:"",dense:"",color:"negative",label:"Cancelar"},on:{click:e.onCancelClick}})],1)],1)],1)},p=[],m={name:"NombreApellido",props:{nombre:{type:String,required:!0,default:""},apellido:{type:String,required:!0,default:""}},data(){return{}},computed:{_nombre:{get(){return this.$store.state.perfiles.nombre},set(e){this.$store.commit("perfiles/updateNombre",e)}},_apellido:{get(){return this.$store.state.perfiles.apellido},set(e){this.$store.commit("perfiles/updateApellido",e)}}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this._nombre&&this._apellido&&(this.$emit("ok"),this.hide())},onCancelClick(){this.hide()}},mounted(){this.$store.commit("perfiles/updateNombre",this.nombre),this.$store.commit("perfiles/updateApellido",this.apellido)}},f=m,u=a("2877"),h=a("24e8"),q=a("f09f"),b=a("a370"),g=a("0378"),_=a("27f9"),v=a("4b7e"),C=a("9c40"),y=a("eebe"),$=a.n(y),k=Object(u["a"])(f,d,p,!1,null,null,null),Q=k.exports;$()(k,"components",{QDialog:h["a"],QCard:q["a"],QCardSection:b["a"],QForm:g["a"],QInput:_["a"],QCardActions:v["a"],QBtn:C["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Fecha de nacimiento")])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){e.preventDefault()}}},[a("q-input",{attrs:{dense:"",autofocus:"",mask:"date",label:"Fecha de nacimiento",rules:["date",function(e){return!!e||"Ingrese una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e._fecha,callback:function(t){e._fecha=t},expression:"_fecha"}})],1)],1)]},proxy:!0}]),model:{value:e._fecha,callback:function(t){e._fecha=t},expression:"_fecha"}})],1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",dense:"",color:"primary",label:"Guardar"},on:{click:e.onOKClick}}),a("q-btn",{attrs:{flat:"",dense:"",color:"negative",label:"Cancelar"},on:{click:e.onCancelClick}})],1)],1)],1)},x=[],F={name:"Fecha",props:{fecha:{type:String,required:!0,default:""}},data(){return{}},computed:{_fecha:{get(){return this.$store.state.perfiles.fecha},set(e){this.$store.commit("perfiles/updateFecha",e)}}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this._fecha&&(this.$emit("ok"),this.hide())},onCancelClick(){this.hide()}},mounted(){this.$store.commit("perfiles/updateFecha",this.fecha)}},A=F,w=a("0016"),N=a("7cbe"),z=a("52ee"),D=Object(u["a"])(A,P,x,!1,null,null,null),O=D.exports;$()(D,"components",{QDialog:h["a"],QCard:q["a"],QCardSection:b["a"],QForm:g["a"],QInput:_["a"],QIcon:w["a"],QPopupProxy:N["a"],QDate:z["a"],QCardActions:v["a"],QBtn:C["a"]});var S={name:"Perfil",data(){return{}},computed:n()(n()({},Object(c["e"])("perfiles",["perfil","nombre","apellido","fecha","foto"])),{},{nombreCompleto(){return`${this.perfil.nombre} ${this.perfil.apellido}`},_fecha:{get(){return this.perfil.fecha},set(e){this.updateFechaPerfil(e),this.guardarPerfil()}}}),methods:n()(n()({},Object(c["d"])("perfiles",["updateNombrePerfil","updateApellidoPerfil","updateFechaPerfil","updatePerfil"])),{},{guardarPerfil(){var e=this;return l()((function*(){try{yield e.$db.local.rel.save("perfil",e.perfil),e.$q.localStorage.set("perfil",e.perfil),e.$q.notify({type:"positive",message:"Perfil actualizado",timeout:500})}catch(t){console.log("no se pudo actualizar el nombre y apellido: "+t)}}))()},editarNombreApellido(){var e=this;this.$q.dialog({component:Q,parent:this,nombre:this.perfil.nombre,apellido:this.perfil.apellido}).onOk(l()((function*(){e.updateNombrePerfil(e.nombre),e.updateApellidoPerfil(e.apellido),yield e.perfil.guardarPerfil()})))},editarFecha(){var e=this;this.$q.dialog({component:O,parent:this,fecha:this.perfil.fecha}).onOk(l()((function*(){e.updateFechaPerfil(e.fecha),yield e.perfil.guardarPerfil()})))},logout(){this.updatePerfil(null),this.$q.localStorage.set("perfil",null),this.$router.push({name:"Perfiles"})}})},I=S,j=a("9989"),E=a("cb32"),H=a("1c1c"),K=a("eb85"),B=a("66e5"),G=a("4074"),J=a("0170"),L=Object(u["a"])(I,i,r,!1,null,null,null);t["default"]=L.exports;$()(L,"components",{QPage:j["a"],QAvatar:E["a"],QBtn:C["a"],QList:H["a"],QSeparator:K["a"],QItem:B["a"],QItemSection:G["a"],QIcon:w["a"],QItemLabel:J["a"]})}}]);