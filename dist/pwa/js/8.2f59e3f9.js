(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{2718:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{attrs:{padding:""}},[o("nuevo-perfil")],1)},a=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-stepper",{attrs:{vertical:"",color:"primary",animated:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[o("q-step",{attrs:{name:1,title:"Genero",icon:"supervised_user_circle",done:e.step>1}},[o("genero")],1),o("q-step",{attrs:{name:2,title:"Informacion Personal",icon:"info",done:e.step>2}},[o("informacion-personal"),o("q-stepper-navigation",[o("q-btn",{attrs:{color:"primary",label:"Siguiente",disabled:!e.nombre||!e.apellido||!e.fecha},on:{click:function(t){return e.updateStep(3)}}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Regresar"},on:{click:function(t){return e.updateStep(1)}}})],1)],1),o("q-step",{attrs:{name:3,title:"Foto",caption:"Optional",icon:"face",done:e.step>3}},[o("foto"),o("q-stepper-navigation",[o("q-btn",{attrs:{color:"primary",label:"Siguiente"},on:{click:function(t){return e.updateStep(4)}}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Regresar"},on:{click:function(t){return e.updateStep(2)}}})],1)],1),o("q-step",{attrs:{name:4,title:"Confirmacion",icon:"verified"}},[o("confirmacion"),o("q-stepper-navigation",[o("q-btn",{attrs:{color:"primary",label:"Listo"},on:{click:function(t){return e.guardarPerfil()}}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Regresar"},on:{click:function(t){return e.updateStep(3)}}})],1)],1)],1)},i=[],l=o("c973"),s=o.n(l),c=o("ded3"),p=o.n(c),u=o("2f62"),d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-splitter",{staticStyle:{height:"300px"},attrs:{limits:[0,100],"before-class":"overflow-hidden","after-class":"overflow-hidden","separator-class":"bg-black"},scopedSlots:e._u([{key:"before",fn:function(){return[o("div",{staticClass:"flex flex-center bg-white"},[o("q-btn",{attrs:{label:"Masculino",color:"blue"},on:{click:function(t){return e.genero("Masculino")}}})],1)]},proxy:!0},{key:"after",fn:function(){return[o("div",{staticClass:"flex flex-center bg-white"},[o("q-btn",{attrs:{label:"Femenino",color:"pink"},on:{click:function(t){return e.genero("Femenino")}}})],1)]},proxy:!0}]),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}})},f=[],m={name:"Genero",data(){return{splitterModel:50}},computed:{},methods:p()(p()({},Object(u["c"])("perfiles",["updateGenero","updateStep"])),{},{genero(e){this.updateGenero(e),this.updateStep(2)}})},b=m,h=o("2877"),v=o("8562"),g=o("9c40"),x=o("eebe"),_=o.n(x),q=Object(h["a"])(b,d,f,!1,null,null,null),y=q.exports;_()(q,"components",{QSplitter:v["a"],QBtn:g["a"]});var k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){e.preventDefault()}}},[o("q-input",{attrs:{filled:"",label:"Nombre","lazy-rules":"",rules:[function(e){return!!e||"Escriba un Nombre"}]},model:{value:e._nombre,callback:function(t){e._nombre=t},expression:"_nombre"}}),o("q-input",{attrs:{filled:"",label:"Apellido","lazy-rules":"",rules:[function(e){return!!e||"Escribar su apellido"}]},model:{value:e._apellido,callback:function(t){e._apellido=t},expression:"_apellido"}}),o("q-input",{attrs:{filled:"",mask:"date",label:"Fecha de nacimiento",rules:["date",function(e){return!!e||"Ingrese una fecha"}]},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e._fecha,callback:function(t){e._fecha=t},expression:"_fecha"}})],1)],1)]},proxy:!0}]),model:{value:e._fecha,callback:function(t){e._fecha=t},expression:"_fecha"}})],1)},S=[],C={name:"InformacionPersonal",data(){return{}},computed:p()(p()({},Object(u["d"])("perfiles",["nombre","apellido","fecha"])),{},{_nombre:{get(){return this.nombre},set(e){this.updateNombre(e)}},_apellido:{get(){return this.apellido},set(e){this.updateApellido(e)}},_fecha:{get(){return this.fecha},set(e){this.updateFecha(e)}}}),methods:p()(p()({},Object(u["c"])("perfiles",["updateNombre","updateApellido","updateFecha","updateStep"])),{},{methodName(){}})},w=C,O=o("0378"),j=o("27f9"),P=o("0016"),Q=o("7cbe"),F=o("52ee"),E=Object(h["a"])(w,k,S,!1,null,null,null),$=E.exports;_()(E,"components",{QForm:O["a"],QInput:j["a"],QIcon:P["a"],QPopupProxy:Q["a"],QDate:F["a"]});var N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-center bg-white q-gutter-md"},[e.foto?r("q-img",{attrs:{src:e.fotoEncoded,"spinner-color":"primary","spinner-size":"82px",width:"200px"}}):r("q-img",{attrs:{src:o("bca0"),"spinner-color":"primary","spinner-size":"82px",width:"200px"}}),r("q-file",{attrs:{color:"grey-3",outlined:"","label-color":"primary",label:"Selecciona una foto"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"attachment",color:"primary"}})]},proxy:!0}]),model:{value:e._foto,callback:function(t){e._foto=t},expression:"_foto"}})],1)},I=[],z=(o("ddb0"),o("2b3d"),o("bca0")),R=o.n(z),A={name:"Foto",data(){return{}},computed:p()(p()({},Object(u["d"])("perfiles",["foto"])),{},{_foto:{get(){return this.foto},set(e){this.updateFoto(e)}},fotoEncoded(){return URL.createObjectURL(this.foto?this.foto:R.a)}}),methods:p()({},Object(u["c"])("perfiles",["updateFoto","updateStep"]))},G=A,L=o("068f"),M=o("7d53"),D=Object(h["a"])(G,N,I,!1,null,null,null),U=D.exports;_()(D,"components",{QImg:L["a"],QFile:M["a"],QIcon:P["a"]});var B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"flex flex-center bg-white"},[e.foto?r("q-img",{attrs:{src:e.fotoEncoded,"spinner-color":"primary","spinner-size":"82px",width:"200px"}}):r("q-img",{attrs:{src:o("bca0"),"spinner-color":"primary","spinner-size":"82px",width:"200px"}})],1),r("div",{staticClass:"text-subtitle1"},[e._v("\n\t\tNombre:\n\t")]),r("div",{staticClass:"text-caption text-grey"},[e._v("\n\t\t"+e._s(e.nombre)+"\n\t")]),r("div",{staticClass:"text-subtitle1"},[e._v("\n\t\tApellido:\n\t")]),r("div",{staticClass:"text-caption text-grey"},[e._v("\n\t\t"+e._s(e.apellido)+"\n\t")]),r("div",{staticClass:"text-subtitle1"},[e._v("\n\t\tFecha de nacimiento:\n\t")]),r("div",{staticClass:"text-caption text-grey"},[e._v("\n\t\t"+e._s(e.fecha)+"\n\t")])])},J=[],H={name:"Confirmacion",data(){return{}},computed:p()(p()({},Object(u["d"])("perfiles",["genero","nombre","apellido","fecha","foto"])),{},{fotoEncoded(){return URL.createObjectURL(this.foto)}})},K=H,T=Object(h["a"])(K,B,J,!1,null,null,null),V=T.exports;_()(T,"components",{QImg:L["a"]});var W={name:"NuevoPerfil",components:{Genero:y,InformacionPersonal:$,Foto:U,Confirmacion:V},data(){return{}},computed:p()({},Object(u["d"])("perfiles",["genero","nombre","apellido","fecha","foto","step"])),methods:p()(p()({},Object(u["c"])("perfiles",["updateGenero","updateNombre","updateApellido","updateFecha","updateFoto","updateStep"])),{},{guardarPerfil(){var e=this;return s()((function*(){const t={genero:e.genero,foto:!!e.foto,nombre:e.nombre,apellido:e.apellido,fecha:e.fecha,nivel:0,exp:0,tiempo:0,logros:[],estadisticas:{basico:{tiempo:0,correctas:0,incorrectas:0,pasadas:0,poderes:0,logros:[]},intermedio:{tiempo:0,correctas:0,incorrectas:0,pasadas:0,poderes:0,logros:[]},avanzado:{tiempo:0,correctas:0,incorrectas:0,pasadas:0,poderes:0,logros:[]}}};try{let o=yield e.$db.local.rel.save("perfil",t);if(e.$q.notify({type:o?"positive":"negative",message:o?"Perfil creado":"No se pudo crear el perfil",timeout:500}),o&&t.foto){const t=e.foto,r=yield e.$db.local.rel.putAttachment("perfil",{id:o.id,rev:o.rev},"file",t,t.type);r&&e.$router.push({name:"Perfiles"})}else e.$router.push({name:"Perfiles"})}catch(o){alert("ha ocurrido un error al crear el perfil: "+o)}}))()}})},X=W,Y=o("f531"),Z=o("87fe"),ee=o("b19c"),te=Object(h["a"])(X,n,i,!1,null,null,null),oe=te.exports;_()(te,"components",{QStepper:Y["a"],QStep:Z["a"],QStepperNavigation:ee["a"],QBtn:g["a"]});var re={name:"CrearPerfil",components:{NuevoPerfil:oe}},ae=re,ne=o("9989"),ie=Object(h["a"])(ae,r,a,!1,null,null,null);t["default"]=ie.exports;_()(ie,"components",{QPage:ne["a"]})},bca0:function(e,t,o){e.exports=o.p+"img/Logo.dbd67164.png"}}]);